<!--
Program name: patient-form.html
Author: Abhi Sitapara
Date created: 06/08/2025
Date last edited: 06/20/2025
Version: 2.0
Description: Fake patient registration form for Horizon Health Solutions -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Patient Registration Form</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <script src="script.js" defer></script>
  </head>
  <body>
    <!-- Header banner with logo and current date -->
    <div id="banner">
      <h1>
        <img
          src="../../images/logo.png"
          alt="Horizon Health Solutions Logo"
          width="40"
          height="40"
          style="vertical-align: bottom"
        />
        Horizon Health Solutions
      </h1>
      <p id="date-display">
        <!-- JavaScript to display current date -->
        <script>
          const today = new Date();
          const options = {
            weekday: "long",
            year: "numeric",
            month: "long",
            day: "numeric",
          };
          document.getElementById("date-display").innerHTML =
            "Today is: " + today.toLocaleDateString("en-US", options);
        </script>
      </p>
    </div>

    <!-- Main registration form -->
    <div id="main-form">
      <h2>New Patient Registration</h2>
      <form
        action="thankyou.html"
        method="get"
        onsubmit="return validateForm();"
      >
        <table class="form-table">
          <!-- Personal Information Section -->
          <tr>
            <td><label for="fname">Full Name:</label></td>
            <td>
              <input
                type="text"
                id="fname"
                name="firstname"
                placeholder="First Name (req)"
                title="Please enter your first name (letters, apostrophes, dashes)."
                maxlength="30"
                style="width: 30%"
                required
                pattern="[a-zA-Z'-]+"
              />
              <input
                type="text"
                id="minitial"
                name="minitial"
                placeholder="MI"
                title="Please enter your middle initial (one letter)."
                maxlength="1"
                style="width: 5%"
                pattern="[a-zA-Z]?"
              />
              <input
                type="text"
                id="lname"
                name="lastname"
                placeholder="Last Name (req)"
                title="Please enter your last name (letters, apostrophes, dashes)."
                maxlength="30"
                style="width: 40%"
                required
                pattern="[a-zA-Z'-]+"
              />
            </td>
          </tr>
          <tr>
            <td><label for="dob">Date of Birth:</label></td>
            <td>
              <input
                type="date"
                id="dob"
                name="dob"
                title="Please enter your date of birth. Cannot be in the future or more than 120 years ago."
                required
              />
            </td>
          </tr>
          <tr>
            <td><label for="ssn">Social Security Number:</label></td>
            <td>
              <!-- Using password type for security -->
              <input
                type="password"
                id="ssn"
                title="Please enter your 9-digit social security number (XXX-XX-XXXX)."
                name="ssn"
                maxlength="11"
                placeholder="***-**-**** (req)"
                required
                pattern="\d{3}-\d{2}-\d{4}"
              />
            </td>
          </tr>
          <!-- Address Information Section -->
          <tr>
            <td><label for="address1">Address:</label></td>
            <td>
              <input
                type="text"
                id="address1"
                title="Please enter first line of your address (2-30 characters)."
                name="address1"
                placeholder="Address Line 1 (req)"
                maxlength="30"
                minlength="2"
                required
              />
            </td>
          </tr>
          <tr>
            <td></td>
            <td>
              <input
                type="text"
                id="address2"
                name="address2"
                title="Please enter the second line of your address (2-30 characters)."
                placeholder="Address Line 2"
                maxlength="30"
                minlength="2"
              />
            </td>
          </tr>
          <tr>
            <td></td>
            <td>
              <!-- City, State, and Zip in one row -->
              <input
                type="text"
                id="city"
                name="city"
                placeholder="City (req)"
                title="Please enter your city (2-30 characters)."
                maxlength="30"
                minlength="2"
                style="width: 40%"
                required
              />
              <!-- Dropdown for all US states -->
              <select id="state" name="state" title="Please select your state." style="width: 30%" required>
                <option value="">--Select State-- (req)</option>
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="DC">District Of Columbia</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MA">Massachusetts</option>
                <option value="MI">Michigan</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option>
                <option value="PR">Puerto Rico</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia</option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
              </select>
              <!-- Supports both 5 and 9 digit zip codes -->
              <input
                type="text"
                id="zip"
                name="zip"
                placeholder="Zip Code (req)"
                maxlength="10"
                style="width: 20%"
                required
                pattern="\d{5}(-\d{4})?"
                title="Please use 5 or 9 digit zip code format (e.g., 12345 or 12345-6789)."
              />
            </td>
          </tr>
          <!-- Contact and Medical Information Section -->
          <tr>
            <td><label for="email">Email Address:</label></td>
            <td>
              <input
                type="email"
                id="email"
                name="email"
                placeholder="name@domain.com (req)"
                title="Please enter a valid email address."
                required
              />
            </td>
          </tr>
          <tr>
            <td><label for="phone">Phone Number:</label></td>
            <td>
              <input
                type="tel"
                id="phone"
                name="phone"
                placeholder="123-456-7890 (req)"
                title="Please enter a valid 10-digit phone number (e.g., 123-456-7890)."
                required
                pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
              />
            </td>
          </tr>
          <tr>
            <td><label for="symptoms">Current Symptoms:</label></td>
            <td>
              <textarea
                id="symptoms"
                name="symptoms"
                rows="3"
                cols="50"
                placeholder="Describe your current symptoms... (no double quotes)"
                title="Please describe your symptoms. Double quotes are not allowed."
                pattern="[^\"]*"
              ></textarea>
            </td>
          </tr>
          <!-- Medical History and Demographics Section -->
          <tr>
            <td colspan="2" class="checkbox-group">
              <!-- Checkbox group for medical conditions -->
              <fieldset>
                <legend>
                  Check all of the following conditions you have had:
                </legend>
                <input type="checkbox" id="c1" name="cond" value="cpox" /><label
                  for="c1"
                  >Chicken Pox</label
                ><br />
                <input
                  type="checkbox"
                  id="c2"
                  name="cond"
                  value="measles"
                /><label for="c2">Measles</label><br />
                <input
                  type="checkbox"
                  id="c3"
                  name="cond"
                  value="covid"
                /><label for="c3">COVID-19</label><br />
                <input
                  type="checkbox"
                  id="c4"
                  name="cond"
                  value="tetanus"
                /><label for="c4">Tetanus</label><br />
                <input
                  type="checkbox"
                  id="c5"
                  name="cond"
                  value="mumps"
                /><label for="c5">Mumps</label><br />
              </fieldset>
            </td>
          </tr>
          <tr>
            <td colspan="2" class="radio-group">
              <!-- Radio button groups for demographics and health info -->
              <fieldset>
                <legend>Gender</legend>
                <input
                  type="radio"
                  id="g_male"
                  name="gender"
                  value="male"
                /><label for="g_male">Male</label>
                <input
                  type="radio"
                  id="g_female"
                  name="gender"
                  value="female"
                /><label for="g_female">Female</label>
                <input
                  type="radio"
                  id="g_other"
                  name="gender"
                  value="other"
                /><label for="g_other">Other</label>
              </fieldset>
              <fieldset>
                <legend>COVID-19 Vaccinated?</legend>
                <input
                  type="radio"
                  id="vax_y"
                  name="vaccinated"
                  value="yes"
                /><label for="vax_y">Yes</label>
                <input
                  type="radio"
                  id="vax_n"
                  name="vaccinated"
                  value="no"
                /><label for="vax_n">No</label>
              </fieldset>
              <fieldset>
                <legend>Do you have insurance?</legend>
                <input
                  type="radio"
                  id="ins_y"
                  name="insurance"
                  value="yes"
                /><label for="ins_y">Yes</label>
                <input
                  type="radio"
                  id="ins_n"
                  name="insurance"
                  value="no"
                /><label for="ins_n">No</label>
              </fieldset>
            </td>
          </tr>
          <tr>
            <td><label for="health_scale">Current Health:</label></td>
            <td class="slider-cell">
              <!-- Health rating slider from 1-10 -->
              <span>Poor</span>
              <input
                type="range"
                id="health_scale"
                name="health_scale"
                min="1"
                max="10"
                value="5"
                style="width: 70%"
                oninput="updateHealthValue(this.value)"
              />
              <span>Good</span>
              <span id="health-value" style="font-weight: bold; margin-left: 10px;">5</span>
            </td>
          </tr>
          <!-- User Account Credentials Section -->
          <tr>
            <td><label for="userid">Desired User ID:</label></td>
            <td>
              <input
                type="text"
                id="userid"
                name="userid"
                maxlength="20"
                required
                minlength="5"
                maxlength="30"
                pattern="[a-zA-Z][a-zA-Z0-9_-]{4,29}"
                title="5-30 characters, must start with a letter, no spaces or special characters other than _ or -."
                onblur="this.value = this.value.toLowerCase()"
              />
            </td>
          </tr>
          <tr>
            <td><label for="pass1">Password:</label></td>
            <td>
              <input
                type="password"
                id="pass1"
                name="password"
                required
                minlength="8"
                maxlength="30"
                title="8-30 characters, must contain at least one uppercase letter, one lowercase letter, one number, and one special character."
              />
            </td>
          </tr>
          <tr>
            <td><label for="pass2">Re-enter Password:</label></td>
            <td>
              <input
                type="password"
                id="pass2"
                name="password_confirm"
                required
                minlength="8"
                maxlength="30"
                title="Please re-enter your password to confirm."
              />
            </td>
          </tr>
          <tr>
            <td colspan="2" style="text-align: center">
              <!-- Form action buttons -->
              <button type="reset">CLEAR AND START OVER</button>
              <button type="button" onclick="reviewAndValidate()">Review</button>
              <button type="submit" id="submit-button">Submit</button>
            </td>
          </tr>
        </table>
      </form>
    </div>

    <div id="review-section" style="display: none;">
      <h2>Review Your Information</h2>
      <p>Please review your information before submitting. Errors are marked and must be corrected.</p>
      <div id="review-output"></div>
      <div style="text-align: center;">
        <button onclick="document.getElementById('main-form').scrollIntoView({behavior: 'smooth'});">Back to Form</button>
        <button type="submit" form="main-form-id" id="final-submit-button">Confirm and Submit</button>
      </div>
    </div>

    <!-- Footer section with contact information -->
    <div class="footer">
      <p>Horizon Health Solutions</p>
      <p>PO BOX 18881, Sugar Land TX 77496</p>
      <button onclick="alert('Contact us at contact@horizonhealth.com');">
        Contact Us
      </button>
    </div>

    <!-- Client-side form validation script -->
    <script>
      function validateForm() {
        const pass1 = document.getElementById("pass1").value;
        const pass2 = document.getElementById("pass2").value;
        // Check if passwords match before submitting
        if (pass1 !== pass2) {
          alert("Passwords do not match. Please try again.");
          return false;
        }
        // A more robust validation will happen on review
        // This is a final check
        return !document.getElementById('submit-button').disabled;
      }
    </script>
  </body>
</html>
